{"version":3,"sources":["ResourceMap-Spec.js"],"names":[],"mappings":"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","file":"ResourceMap-Spec-compiled.js","sourcesContent":["/**\n * The MIT License (MIT)\n * Copyright (c) 2015 AceMood\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n * @file 资源表对象测试用例\n * @author AceMood\n */\n\n/* globals describe */\n/* globals it */\n\ndescribe('ResourceMap', function() {\n\n  var expect = require('chai').expect;\n  var ResourceMap = require('./core/ResourceMap');\n  var Resource = require('./resource/Resource');\n  var ProjectConfiguration = require('./resource/ProjectConfiguration');\n\n  it('should intialize from a list', function() {\n    var a, b;\n    var map = new ResourceMap([\n      a = new Resource('a'),\n      b = new Resource('b')\n    ]);\n\n    expect(map.getResource('Resource', 'a')).to.deep.equal(a);\n    expect(map.getResource('Resource', 'b')).to.deep.equal(b);\n    expect(map.getResource('Resource', 'c')).to.be.undefined;\n    expect(map.getAllResources()).to.deep.equal([a, b]);\n  });\n\n  it('should return elements from empty map', function() {\n    var map = new ResourceMap([]);\n    expect(map.getResource('js', 'a')).to.be.undefined;\n  });\n\n  it('should add elements', function() {\n    var a, b;\n    var map = new ResourceMap([\n      a = new Resource('a')\n    ]);\n    map.addResource(b = new Resource('b'));\n\n    expect(map.getResource('Resource', 'b')).to.deep.equal(b);\n    expect(map.getAllResources()).to.deep.equal([a, b]);\n  });\n\n  it('should update elements', function() {\n    var a1, a2;\n    var map = new ResourceMap([\n      a1 = new Resource('a')\n    ]);\n    map.updateResource(a1, a2 = new Resource('a'));\n\n    expect(map.getResource('Resource', 'a')).to.deep.equal(a2);\n  });\n\n  it('should remove elements', function() {\n    var a, b;\n    var map = new ResourceMap([\n      a = new Resource('a'),\n      b = new Resource('b')\n    ]);\n    map.removeResource(b);\n    expect(map.getResource('Resource', 'b')).to.be.undefined;\n    expect(map.getAllResources()).to.deep.equal([a]);\n    expect(map.getAllResourcesByType('Resource')).to.deep.equal([a]);\n  });\n\n  it('should get all resources by type', function() {\n    var a, b, pa, pb;\n    var map = new ResourceMap([\n      a = new Resource('a'),\n      b = new Resource('b'),\n      pa = new ProjectConfiguration('pa.json'),\n      pb = new ProjectConfiguration('pb.json')\n    ]);\n    expect(map.getAllResourcesByType('ProjectConfiguration')).to.deep.equal([pa, pb]);\n    expect(map.getAllResourcesByType('Resource')).to.deep.equal([a, b]);\n  });\n\n  it('should get all resources by type', function() {\n    var a, b, pa, pb;\n    var map = new ResourceMap([\n      a = new Resource('a/a.js'),\n      b = new Resource('b/b.js'),\n      pa = new ProjectConfiguration('a/package.json', {})\n    ]);\n    expect(map.getConfigurationByPath(a.path)).to.deep.equal(pa);\n    pb = new ProjectConfiguration('b/package.json', {});\n    map.addResource(pb);\n    expect(map.getConfigurationForResource(b)).to.deep.equal(pb);\n  });\n});"]}