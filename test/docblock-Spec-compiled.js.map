{"version":3,"sources":["docblock-Spec.js"],"names":[],"mappings":"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","file":"docblock-Spec-compiled.js","sourcesContent":["/**\n * The MIT License (MIT)\n * Copyright (c) 2015 AceMood\n *\n * @file 解析注释头部信息功能\n * @author AceMood\n */\n\n/* globals describe */\n/* globals it */\n\ndescribe('docblock', function() {\n\n  var expect = require('chai').expect;\n  var os = require('os');\n  var docblock = require('./parser/docblock');\n\n  it('should extract valid docblock', function() {\n    var code = '/**' + os.EOL + ' * @provides foo' + os.EOL + '*/'\n      + os.EOL + 'var x = foo;';\n    expect(docblock.extract(code)).to.be.a('string');\n    expect(docblock.extract(code)).to.equal('/**' + os.EOL + ' * @provides foo' + os.EOL + '*/');\n  });\n\n  it('should extract valid docblock with more comments', function() {\n    var code = '/**' + os.EOL + ' * @provides foo' + os.EOL + '*/'\n      + os.EOL + 'var x = foo;' + os.EOL + '/**foo*/';\n    expect(docblock.extract(code)).to.be.a('string');\n    expect(docblock.extract(code)).to.equal('/**' + os.EOL + ' * @provides foo' + os.EOL + '*/');\n  });\n\n  it('should return nothing for no docblock', function() {\n    var code = '/*' + os.EOL + ' * @provides foo' + os.EOL + '*/'\n      + os.EOL + 'var x = foo;' + os.EOL + '/**foo*/';\n    expect(docblock.extract(code)).to.be.a('string');\n    expect(docblock.extract(code)).to.equal('');\n  });\n\n  it('should return extract and parsedocblock', function() {\n    var code =\n      '/** @provides intern-fbtrace-css */' + os.EOL + '' +\n      '' + os.EOL + '' +\n      '.dummy {}' + os.EOL + '';\n\n    expect(docblock.parse(docblock.extract(code))).instanceof(Array);\n    expect(docblock.parse(docblock.extract(code))).to.have.length(1);\n    expect(docblock.parse(docblock.extract(code))).to.deep.equal([\n      ['provides', 'intern-fbtrace-css']\n    ]);\n  });\n\n  it('should parse directives out of a docblock', function() {\n    var code =\n      '/**' + os.EOL + '' +\n      ' * @requires foo' + os.EOL + '' +\n      ' * @css a b' + os.EOL + '' +\n      ' * @preserve-whitespace' + os.EOL + '' +\n      ' */';\n    expect(docblock.parse(code)).instanceof(Array);\n    expect(docblock.parse(code)).to.have.length(3);\n    expect(docblock.parse(code)).to.deep.equal([\n      ['requires', 'foo'],\n      ['css', 'a b'],\n      ['preserve-whitespace', '']\n    ]);\n  });\n\n  it('should parse directives out of a docblock with comments', function() {\n    var code =\n      '/**' + os.EOL + '' +\n      ' * Copyright 2004-present Facebook. All Rights Reserved.'+os.EOL+'' +\n      ' * @provides foo' + os.EOL + '' +\n      ' * @css a b' + os.EOL + '' +\n      ' *' + os.EOL + '' +\n      ' * And some license here' + os.EOL + '' +\n      ' * @preserve-whitespace' + os.EOL + '' +\n      ' */';\n    expect(docblock.parse(code)).instanceof(Array);\n    expect(docblock.parse(code)).to.have.length(3);\n    expect(docblock.parse(code)).to.deep.equal([\n      ['provides', 'foo'],\n      ['css', 'a b'],\n      ['preserve-whitespace', '']\n    ]);\n  });\n\n  it('should parse multiline directives', function() {\n    var code =\n      '/**' + os.EOL + '' +\n      ' * Copyright 2004-present Facebook. All Rights Reserved.' + os.EOL + '' +\n      ' * @class A long declaration of a class' + os.EOL + '' +\n      ' *        goes here, so we can read it and enjoy' + os.EOL + '' +\n      ' *' + os.EOL + '' +\n      ' * And some license here' + os.EOL + '' +\n      ' * @preserve-whitespace' + os.EOL + '' +\n      ' */';\n\n    expect(docblock.parse(code)).instanceof(Array);\n    expect(docblock.parse(code)).to.have.length(2);\n    expect(docblock.parse(code)).to.deep.equal([\n      ['class', 'A long declaration of a class goes here, ' +\n      'so we can read it and enjoy'],\n      ['preserve-whitespace', '']\n    ]);\n  });\n\n});\n"]}