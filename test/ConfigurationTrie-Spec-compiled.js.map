{"version":3,"sources":["ConfigurationTrie-Spec.js"],"names":[],"mappings":"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","file":"ConfigurationTrie-Spec-compiled.js","sourcesContent":["/**\n * Copyright 2013 Facebook, Inc.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n *\n * @emails javascript@lists.facebook.com voloko@fb.com\n */\n\n/* globals describe */\n/* globals it */\n\ndescribe('ConfigurationTrie', function() {\n\n  var expect = require('chai').expect;\n  var ConfigurationTrie = require('./ConfigurationTrie');\n  var ProjectConfiguration = require('./resource/ProjectConfiguration');\n  var node_path = require('path');\n\n  it('should match subpath', function() {\n    var config = new ProjectConfiguration(node_path.join('a','b','package.json'), {});\n    var trie = new ConfigurationTrie([config]);\n\n    expect(trie.findConfiguration(node_path.join('a','b','a.js')))\n      .to.equal(config);\n    expect(trie.findConfiguration(node_path.join('a','a.js')))\n      .to.be.undefined;\n    expect(trie.findConfiguration(node_path.join('a','b','c','d.js')))\n      .to.equal(config);\n    expect(trie.findConfiguration(node_path.join('a','b.js')))\n      .to.be.undefined;\n  });\n\n\n  it('should support haste paths', function() {\n    var config = new ProjectConfiguration(\n      'a/b/package.json',\n      {roots: ['c', 'd']}\n    );\n\n    var trie = new ConfigurationTrie([config]);\n\n    expect(trie.findConfiguration(node_path.join('a','b','a.js')))\n      .to.be.undefined;\n    expect(trie.findConfiguration(node_path.join('a','b','c','a.js')))\n      .to.equal(config);\n    expect(trie.findConfiguration(node_path.join('a','b','d','d.js')))\n      .to.equal(config);\n  });\n\n\n  it('should match subpath with 2 configurations', function() {\n    var config1 = new ProjectConfiguration(node_path.join('a','b','package.json'), {});\n    var config2 = new ProjectConfiguration(node_path.join('a','c','package.json'), {});\n    var trie = new ConfigurationTrie([config1, config2]);\n\n    expect(trie.findConfiguration(node_path.join('a','b','a.js')))\n      .to.equal(config1);\n    expect(trie.findConfiguration(node_path.join('a','c','c','d.js')))\n      .to.equal(config2);\n  });\n\n\n  it('should match nested configurations', function() {\n    var config1 = new ProjectConfiguration(node_path.join('a','b','package.json'), {});\n    var config2 =\n      new ProjectConfiguration(node_path.join('a','b','c','package.json'), {});\n    var trie = new ConfigurationTrie([config1, config2]);\n\n    expect(trie.findConfiguration(node_path.join('a','b','a.js')))\n        .to.equal(config1, node_path.join('a','b','a.js'));\n    expect(trie.findConfiguration(node_path.join('a','b','c.js')))\n        .to.equal(config1, node_path.join('a','b','c.js'));\n    expect(trie.findConfiguration(node_path.join('a','b','c','d.js')))\n        .to.equal(config2, node_path.join('a','b','c','d.js'));\n  });\n\n});\n"]}